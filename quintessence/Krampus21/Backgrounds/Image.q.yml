parent_classes:


  - class: Krampus21::Backgrounds::Base
    scope: public
    init_with: '"Monoplex"'


properties:


  - name: bitmap_bin
    type: AllegroFlare::BitmapBin*
    init_with: nullptr
    constructor_arg: true

  - name: image_filename
    type: std::string
    init_with: '"[image-filename-not-set]"'


functions:


  - name: draw
    override: true
    guards: [ bitmap_bin ]
    body: |
      allegro_flare::placement2d background_image_placement;
      ALLEGRO_BITMAP *bitmap = obtain_background_bitmap();
      background_image_placement.start_transform();
      al_draw_bitmap(bitmap, 0, 0, 0);
      background_image_placement.restore_transform();
      return;
    body_dependency_symbols:
      - allegro_flare::placement2d


  - name: obtain_background_bitmap
    type: ALLEGRO_BITMAP*
    private: true
    body: |
      return bitmap_bin->auto_get(image_filename);


dependencies:


  - symbol: ALLEGRO_BITMAP*
    headers: [ allegro5/allegro.h ]
  - symbol: Krampus21::Backgrounds::Base
    headers: [ Krampus21/Backgrounds/Base.hpp ]
  - symbol: AllegroFlare::BitmapBin*
    headers: [ AllegroFlare/BitmapBin.hpp ]
  - symbol: allegro_flare::placement2d
    headers: [ allegro_flare/placement2d.h ]


