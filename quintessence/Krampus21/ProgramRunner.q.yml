functions:


  - name: run
    type: void
    body: |
      AllegroFlare::Display *display;
      AllegroFlare::Screens screens;
      AllegroFlare::Framework framework(screens);

      framework.initialize();
      display = framework.create_display(1920, 1080, ALLEGRO_FULLSCREEN_WINDOW);
      //display = framework.create_display(AllegroFlare::Display::RESOLUTION_HD_1080);
      display->set_orthographic_projection(0, 0, 1920, 1080);

      // these two lists are essentially a fragment of a master Krampus21 config:

      std::map<std::string, AllegroFlare::AudioRepositoryElement> music_track_elements =
         std::map<std::string, AllegroFlare::AudioRepositoryElement>{
            { "etherial-ambience-01.wav", { "etherial-ambience-01.wav", true } },
            //{ "ambiences-clips_2-machine-noise.wav", { "ambiences-clips_2-machine-noise.wav", true } },
            //{ TITLE_SCREEN_MUSIC, { "TitleScreen - With Edit - 01.ogg", false } },
            //{ LEVEL_1_MUSIC, { "02 sawsquarenoise - Stage 1.ogg", true } },
            //{ GAME_OVER_SCREEN_MUSIC, { "05 sawsquarenoise - Boss Splash.ogg", false } },
            //{ GAME_WON_SCREEN_MUSIC, { "sawsquarenoise_-_10_-_Towel_Defence_Ending.ogg", false } },
            //{ FINAL_BOSS_MUSIC, { "Boss Theme.ogg", true } },
         };
      std::map<std::string, AllegroFlare::AudioRepositoryElement> sound_effect_elements =
         std::map<std::string, AllegroFlare::AudioRepositoryElement>{
            //{ PLAYER_SHOOT_BULLET_SOUND_EFFECT, { "sfx_wpn_laser8.wav", false } },
            //{ ENEMY_TAKES_HIT_SOUND_EFFECT, { "sfx_wpn_punch3.wav", false } },
            //{ ENEMY_EXPLOSION_SOUND_EFFECT, { "sfx_wpn_punch4.wav", false } },
            //{ BULLET_DEFLECTED_SOUND_EFFECT, { "sfx_wpn_noammo1.wav", false } },
         };

      std::string script_filename = "/Users/markoates/Repos/Krampus21/bin/programs/data/dialogs/test-dialog-2.txt";

      Krampus21::ScreenManager *screen_manager = new Krampus21::ScreenManager(
         &framework,
         &screens,
         sound_effect_elements,
         music_track_elements
      );
      screens.add(screen_manager);

      screen_manager->load_script(script_filename);
      screen_manager->initialize();
      screen_manager->start_game();

      framework.run_loop();

      delete screen_manager;
    body_dependency_symbols:
      - AllegroFlare::Display
      - AllegroFlare::Screens
      - AllegroFlare::Framework
      - std::map<std::string, AllegroFlare::AudioRepositoryElement>
      - Krampus21::ScreenManager


dependencies:


  - symbol: AllegroFlare::Display
    headers: [ AllegroFlare/Display.hpp ]
  - symbol: AllegroFlare::Screens
    headers: [ AllegroFlare/Screens.hpp ]
  - symbol: AllegroFlare::Framework
    headers: [ AllegroFlare/Framework.hpp ]
  - symbol: std::map<std::string, AllegroFlare::AudioRepositoryElement>
    headers: [ map, string, AllegroFlare/AudioRepositoryElement.hpp ]
  - symbol: Krampus21::ScreenManager
    headers: [ Krampus21/ScreenManager.hpp ]


